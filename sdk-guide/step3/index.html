<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>3. Meta · Stremio add-ons guide</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;We call meta a single catalog entry. In our case this will be a movie. The meta provides information for the user. Some of the most notable details are, for example, the title of the movie, it&#x27;s director and cast, poster, logo and so on.&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="3. Meta · Stremio add-ons guide"/><meta property="og:type" content="website"/><meta property="og:url" content="https://stremio.github.io/stremio-addon-guide/index.html"/><meta property="og:description" content="&lt;p&gt;We call meta a single catalog entry. In our case this will be a movie. The meta provides information for the user. Some of the most notable details are, for example, the title of the movie, it&#x27;s director and cast, poster, logo and so on.&lt;/p&gt;
"/><meta property="og:image" content="https://stremio.github.io/stremio-addon-guide/img/favicon.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://stremio.github.io/stremio-addon-guide/img/favicon.png"/><link rel="shortcut icon" href="/stremio-addon-guide/img/favicon.png"/><link rel="stylesheet" href="css/defaultHighlight.min.css"/><link rel="stylesheet" href="/stremio-addon-guide/css/main.css"/><script src="/stremio-addon-guide/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/stremio-addon-guide/"><img class="logo" src="/stremio-addon-guide/img/stremio.svg" alt="Stremio add-ons guide"/><h2 class="headerTitleWithLogo">Stremio add-ons guide</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/stremio-addon-guide/index" target="_self">Home</a></li><li class="siteNavGroupActive"><a href="/stremio-addon-guide/sdk-guide/prelude" target="_self">SDK</a></li><li class="siteNavGroupActive"><a href="/stremio-addon-guide/basics" target="_self">Guide</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Add-on SDK Guide</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Add-on SDK Guide</h3><ul class=""><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/sdk-guide/prelude">Prelude</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/sdk-guide/step1">1. Get started</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/sdk-guide/step2">2. Adding catalogs</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/stremio-addon-guide/sdk-guide/step3">3. Meta</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/sdk-guide/step4">4. Streams</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/sdk-guide/step5">5. Deploying</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Generic Add-on Guide</h3><ul class=""><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/basics">The basics</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/step1">1. The add-on manifest</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/step2">2. Testing the add-on</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/step3">3. The catalog</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/step4">4. Simple meta</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/step5">5. Providing streams</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/step6">6. Multiple videos</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/step7">7. Dynamic content</a></li><li class="navListItem"><a class="navItem" href="/stremio-addon-guide/step8">8. Deploying</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">3. Meta</h1></header><article><div><span><p>We call meta a single catalog entry. In our case this will be a movie. The meta provides information for the user. Some of the most notable details are, for example, the title of the movie, it's director and cast, poster, logo and so on.</p>
<p>The catalog items are so called meta previews. A meta item builds upon this meta preview by adding additional information.</p>
<p>One very important property of the meta item is an array of videos. Every video element consists of at least <code>id</code> and <code>title</code>. The <code>streams</code> in Stremio are mapped by the video ID. In the case of movies, the videos array is optional and, if it is available, should contain only one video which ID is the same as the meta item's ID.</p>
<p>In most cases Stremio's internal add-on - Cinemeta will handle the metadata for us. It provides meta items indexed by IMDB ID. The video IDs for the TV shows are defined as <code>{imdb id}:{season}:{episode}</code>. In most cases your add-on will provide streams for movies and TV shows already handled by the Cinemeta add-on. Feel free to <a href="/stremio-addon-guide/sdk-guide/step4">skip this step</a> if your add-on doesn't need custom meta.</p>
<h2><a class="anchor" aria-hidden="true" id="update-the-manifest"></a><a href="#update-the-manifest" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Update the manifest</h2>
<p>We need to tell Stremio that our add-on provides additional metadata for otherwise unknown content.</p>
<pre><code class="hljs css language-js"><span class="hljs-string">"resources"</span>: [
    <span class="hljs-string">"catalog"</span>,
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"meta"</span>,
        <span class="hljs-string">"types"</span>: [<span class="hljs-string">"movie"</span>],
        <span class="hljs-string">"idPrefixes"</span>: [<span class="hljs-string">"hiwrld_"</span>]
    }
]
</code></pre>
<p>Here we introduce a new way of describing a resource - with an object. This object provides not only the <code>name</code> of the resource, but also what <code>types</code> of content it will describe and also a prefix filter. We call the prefix filter <code>idPrefixes</code>. In it's essence it is an array of prefixes, that Stremio checks against to decide whether to ask our add-on for data or not.</p>
<p>Here is how it looks our manifest now:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// Docs: https://github.com/Stremio/stremio-addon-sdk/blob/master/docs/api/responses/manifest.md</span>
<span class="hljs-keyword">const</span> manifest = {
    <span class="hljs-string">"id"</span>: <span class="hljs-string">"community.helloworld"</span>,
    <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.0.1"</span>,
    <span class="hljs-string">"catalogs"</span>: [
        {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"movie"</span>,
            <span class="hljs-string">"id"</span>: <span class="hljs-string">"top"</span>
        }
    ],
    <span class="hljs-string">"resources"</span>: [
        <span class="hljs-string">"catalog"</span>,
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"meta"</span>,
            <span class="hljs-string">"types"</span>: [<span class="hljs-string">"movie"</span>],
            <span class="hljs-string">"idPrefixes"</span>: [<span class="hljs-string">"hiwrld_"</span>]
        }
    ],
    <span class="hljs-string">"types"</span>: [
        <span class="hljs-string">"movie"</span>,
        <span class="hljs-string">"series"</span>
    ],
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"he"</span>,
    <span class="hljs-string">"description"</span>: <span class="hljs-string">"f"</span>
}
</code></pre>
<p>Apart from the catalog, every other resource in Stremio makes use of IDs and therefore may be filtered by <code>idPrefixes</code>.</p>
<p>In our case we stated that any ID that starts with <code>hiwrld_</code> may be handled by our add-on. In case that our add-on is unable to provide data for this ID, Stremio will ask the next one that matches the requested ID.</p>
<h2><a class="anchor" aria-hidden="true" id="challenge-stremio"></a><a href="#challenge-stremio" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Challenge Stremio</h2>
<p>Now we stated that we will handle meta items which ID starts wit <code>hiwrld_</code>, but our add-on does not provide an item with such ID. So let's create one.</p>
<p>In the previous step we've created a catalog with two movies. All of them indexed in IMDB. Now we are going to update our catalog with one more meta item, that happens to be a movie, not featured in IMDB - <a href="http://jell.yfish.us/">a jellyfish video</a>.</p>
<p>Let's create a catalog entry for our video. Append the following listing to our catalog array inside the <code>getMoviesCatalog</code> function:</p>
<pre><code class="hljs css language-js">{
    <span class="hljs-attr">id</span>: <span class="hljs-string">"hiwrld_jellyfish"</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">"movie"</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Jellyfish"</span>,
    <span class="hljs-attr">poster</span>: <span class="hljs-string">"https://images.unsplash.com/photo-1496108493338-3b30de66f9be"</span>,
    <span class="hljs-attr">genres</span>: [<span class="hljs-string">"Demo"</span>, <span class="hljs-string">"Nature"</span>]
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="provide-metadata"></a><a href="#provide-metadata" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Provide metadata</h2>
<p>Now is the time to implement our meta handler. We will use similar approach as with the catalog:</p>
<pre><code class="hljs css language-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMovieMeta</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">const</span> metas = {
        <span class="hljs-attr">hiwrld_jellyfish</span>: {
            <span class="hljs-attr">id</span>: <span class="hljs-string">"hiwrld_jellyfish"</span>,
            <span class="hljs-attr">type</span>: <span class="hljs-string">"movie"</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">"Jellyfish"</span>,
            <span class="hljs-attr">poster</span>: <span class="hljs-string">"https://images.unsplash.com/photo-1496108493338-3b30de66f9be"</span>,
            <span class="hljs-attr">genres</span>: [<span class="hljs-string">"Demo"</span>, <span class="hljs-string">"Nature"</span>],
            <span class="hljs-attr">description</span>: <span class="hljs-string">"A .mkv video clip useful for testing the network streaming and playback performance of media streamers &amp; HTPCs."</span>,
            <span class="hljs-attr">cast</span>: [<span class="hljs-string">"Some random jellyfishes"</span>],
            <span class="hljs-attr">director</span>: [<span class="hljs-string">"ScottAllyn"</span>],
            <span class="hljs-attr">logo</span>: <span class="hljs-string">"https://b.kisscc0.com/20180705/yee/kisscc0-art-forms-in-nature-jellyfish-recapitulation-theor-jellyfish-5b3dcabcb00692.802484341530776252721.png"</span>,
            <span class="hljs-attr">background</span>: <span class="hljs-string">"https://images.unsplash.com/photo-1461783470466-185038239ee3"</span>,
            <span class="hljs-attr">runtime</span>: <span class="hljs-string">"30 sec"</span>
        },
    }
    <span class="hljs-built_in">Promise</span>.resolve(metas[id] || <span class="hljs-literal">null</span>)
}

builder.defineMetaHandler(<span class="hljs-function">(<span class="hljs-params">{type, id}</span>) =&gt;</span> {
    <span class="hljs-comment">// Docs: https://github.com/Stremio/stremio-addon-sdk/blob/master/docs/api/requests/defineMetaHandler.md</span>
    <span class="hljs-keyword">let</span> results;

    <span class="hljs-keyword">switch</span>(type) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'movie'</span>:
            results = getMovieMeta(id)
            <span class="hljs-keyword">break</span>
       <span class="hljs-keyword">default</span>:
            results = <span class="hljs-literal">null</span>
            <span class="hljs-keyword">break</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve({ <span class="hljs-attr">meta</span>: results })
})
</code></pre>
<p>As you can see, we have added a lot more data to our meta info. You can check all the fields available in the <a href="https://github.com/Stremio/stremio-addon-sdk/blob/master/docs/api/responses/meta.md">API documentation</a>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/stremio-addon-guide/sdk-guide/step2"><span class="arrow-prev">← </span><span>2. Adding catalogs</span></a><a class="docs-next button" href="/stremio-addon-guide/sdk-guide/step4"><span>4. Streams</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#update-the-manifest">Update the manifest</a></li><li><a href="#challenge-stremio">Challenge Stremio</a></li><li><a href="#provide-metadata">Provide metadata</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/stremio-addon-guide/" class="nav-home"><img src="/stremio-addon-guide/img/stremio.svg" alt="Stremio add-ons guide" width="66" height="58"/></a><div><h5>Docs</h5><a href="/stremio-addon-guide/basics">Guide</a><a href="https://github.com/Stremio/stremio-addon-sdk/tree/master/docs/api">API Reference</a></div><div><h5>Community</h5><a href="https://www.reddit.com/r/stremio/" target="_blank" rel="noreferrer noopener">Reddit</a><a href="https://www.facebook.com/stremio/" target="_blank" rel="noreferrer noopener">Facebook</a><a href="https://twitter.com/stremio" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://www.stremio.com/">Official Website</a><a href="https://blog.stremio.com/">Blog</a><a href="https://github.com/Stremio/">GitHub</a></div></section><section class="copyright">Copyright © 2019 Stremio</section></footer></div></body></html>